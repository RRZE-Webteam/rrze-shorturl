(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"create-block/rrze-shorturl"}'),r=window.React,{useState:n}=wp.element,{TextControl:o,Button:l}=wp.components,{__}=wp.i18n;(0,e.registerBlockType)(t.UU,{edit:({attributes:e,setAttributes:t})=>{const[a,s]=n(""),[c,p]=n(""),[u,i]=n(""),[h,m]=n(""),[E,d]=n("");return(0,r.createElement)("div",null,(0,r.createElement)(o,{label:__("Enter URL"),value:a,onChange:s}),(0,r.createElement)(o,{label:__("GET Parameter"),value:c,onChange:p}),(0,r.createElement)(l,{onClick:()=>{fetch("/wp-json/short-url/v1/shorten",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a,getparameter:c})}).then((e=>e.json())).then((e=>{console.log("Response:",e),e.error?(d("Error: "+e.txt),i("")):(i(e.txt),d(""))})).catch((e=>console.error("Error:",e)))}},__("Shorten URL")),E&&(0,r.createElement)("p",{style:{color:"red"}},E),u&&(0,r.createElement)("p",null,__("Shortened URL"),": ",u),h&&(0,r.createElement)("p",null,h))},save:()=>null})})();